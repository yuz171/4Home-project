{"ast":null,"code":"var _jsxFileName = \"E:\\\\react-project\\\\hkzf-mobile\\\\src\\\\pages\\\\Rent\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { API, BASE_URL } from '../../utils';\nimport NavHeader from '../../components/NavHeader';\nimport HouseItem from '../../components/HouseItem';\nimport NoHouse from '../../components/NoHouse';\nimport styles from './index.module.css';\nexport default class Rent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // 出租房屋列表\n      list: [] // 获取已发布房源的列表数据\n\n    };\n  }\n\n  async getHouseList() {\n    const res = await API.get('/user/houses');\n    const _res$data = res.data,\n          status = _res$data.status,\n          body = _res$data.body;\n\n    if (status === 200) {\n      this.setState({\n        list: body\n      });\n    } else {\n      const _this$props = this.props,\n            history = _this$props.history,\n            location = _this$props.location;\n      history.replace('/login', {\n        from: location\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getHouseList();\n  }\n\n  renderHouseItem() {\n    const list = this.state.list;\n    const history = this.props.history;\n    return list.map(item => {\n      return React.createElement(HouseItem, {\n        key: item.houseCode,\n        onClick: () => history.push(\"/detail/\".concat(item.houseCode)),\n        src: BASE_URL + item.houseImg,\n        title: item.title,\n        desc: item.desc,\n        tags: item.tags,\n        price: item.price,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n    });\n  }\n\n  renderRentList() {\n    const list = this.state.list;\n    const hasHouses = list.length > 0;\n\n    if (!hasHouses) {\n      return React.createElement(NoHouse, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\\u60A8\\u8FD8\\u6CA1\\u6709\\u623F\\u6E90\\uFF0C\", React.createElement(Link, {\n        to: \"/rent/add\",\n        className: styles.link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"\\u53BB\\u53D1\\u5E03\\u623F\\u6E90\"), \"\\u5427~\");\n    }\n\n    return React.createElement(\"div\", {\n      className: styles.houses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.renderHouseItem());\n  }\n\n  render() {\n    const history = this.props.history;\n    return React.createElement(\"div\", {\n      className: styles.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(NavHeader, {\n      onLeftClick: () => history.go(-1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"\\u623F\\u5C4B\\u7BA1\\u7406\"), this.renderRentList());\n  }\n\n}","map":{"version":3,"sources":["E:\\react-project\\hkzf-mobile\\src\\pages\\Rent\\index.js"],"names":["React","Component","Link","API","BASE_URL","NavHeader","HouseItem","NoHouse","styles","Rent","state","list","getHouseList","res","get","data","status","body","setState","props","history","location","replace","from","componentDidMount","renderHouseItem","map","item","houseCode","push","houseImg","title","desc","tags","price","renderRentList","hasHouses","length","link","houses","render","root","go"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { API, BASE_URL } from '../../utils'\r\n\r\nimport NavHeader from '../../components/NavHeader'\r\nimport HouseItem from '../../components/HouseItem'\r\nimport NoHouse from '../../components/NoHouse'\r\n\r\nimport styles from './index.module.css'\r\n\r\nexport default class Rent extends Component {\r\n  state = {\r\n    // 出租房屋列表\r\n    list: []\r\n  }\r\n\r\n  // 获取已发布房源的列表数据\r\n  async getHouseList() {\r\n    const res = await API.get('/user/houses')\r\n\r\n    const { status, body } = res.data\r\n    if (status === 200) {\r\n      this.setState({\r\n        list: body\r\n      })\r\n    } else {\r\n      const { history, location } = this.props\r\n      history.replace('/login', {\r\n        from: location\r\n      })\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getHouseList()\r\n  }\r\n\r\n  renderHouseItem() {\r\n    const { list } = this.state\r\n    const { history } = this.props\r\n\r\n    return list.map(item => {\r\n      return (\r\n        <HouseItem\r\n          key={item.houseCode}\r\n          onClick={() => history.push(`/detail/${item.houseCode}`)}\r\n          src={BASE_URL + item.houseImg}\r\n          title={item.title}\r\n          desc={item.desc}\r\n          tags={item.tags}\r\n          price={item.price}\r\n        />\r\n      )\r\n    })\r\n  }\r\n\r\n  renderRentList() {\r\n    const { list } = this.state\r\n    const hasHouses = list.length > 0\r\n\r\n    if (!hasHouses) {\r\n      return (\r\n        <NoHouse>\r\n          您还没有房源，\r\n          <Link to=\"/rent/add\" className={styles.link}>\r\n            去发布房源\r\n          </Link>\r\n          吧~\r\n        </NoHouse>\r\n      )\r\n    }\r\n\r\n    return <div className={styles.houses}>{this.renderHouseItem()}</div>\r\n  }\r\n\r\n  render() {\r\n    const { history } = this.props\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        <NavHeader onLeftClick={() => history.go(-1)}>房屋管理</NavHeader>\r\n\r\n        {this.renderRentList()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}