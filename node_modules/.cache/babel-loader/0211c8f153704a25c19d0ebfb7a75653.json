{"ast":null,"code":"var _jsxFileName = \"E:\\\\react-project\\\\hkzf-mobile\\\\src\\\\pages\\\\HouseList\\\\components\\\\FilterMore\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Spring } from 'react-spring/renderprops';\nimport FilterFooter from '../../../../components/FilterFooter';\nimport styles from './index.module.css';\nexport default class FilterMore extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectedValues: this.props.defaultValue // 标签点击事件\n\n    };\n\n    this.onCancel = () => {\n      this.setState({\n        selectedValues: []\n      });\n    };\n\n    this.onOk = () => {\n      const _this$props = this.props,\n            type = _this$props.type,\n            onSave = _this$props.onSave; // onSave 是父组件中的方法\n\n      onSave(type, this.state.selectedValues);\n    };\n  }\n\n  onTagClick(value) {\n    const selectedValues = this.state.selectedValues; // 创建新数组\n\n    const newSelectedValues = [...selectedValues];\n\n    if (newSelectedValues.indexOf(value) <= -1) {\n      // 没有当前项的值\n      newSelectedValues.push(value);\n    } else {\n      // 有\n      const index = newSelectedValues.findIndex(item => item === value);\n      newSelectedValues.splice(index, 1);\n    }\n\n    this.setState({\n      selectedValues: newSelectedValues\n    });\n  } // 渲染标签\n\n\n  renderFilters(data) {\n    const selectedValues = this.state.selectedValues; // 高亮类名： styles.tagActive\n\n    return data.map(item => {\n      const isSelected = selectedValues.indexOf(item.value) > -1;\n      return React.createElement(\"span\", {\n        key: item.value,\n        className: [styles.tag, isSelected ? styles.tagActive : ''].join(' '),\n        onClick: () => this.onTagClick(item.value),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, item.label);\n    });\n  } // 取消按钮的事件处理程序\n\n\n  render() {\n    const _this$props2 = this.props,\n          _this$props2$data = _this$props2.data,\n          roomType = _this$props2$data.roomType,\n          oriented = _this$props2$data.oriented,\n          floor = _this$props2$data.floor,\n          characteristic = _this$props2$data.characteristic,\n          onCancel = _this$props2.onCancel,\n          type = _this$props2.type; // 该组件是否展示\n\n    const isOpen = type === 'more';\n    return React.createElement(\"div\", {\n      className: styles.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Spring, {\n      to: {\n        opacity: isOpen ? 1 : 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, props => {\n      if (props.opacity === 0) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        style: props,\n        className: styles.mask,\n        onClick: () => onCancel(type),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }), React.createElement(Spring, {\n      to: {\n        transform: \"translate(\".concat(isOpen ? '0px' : '100%', \", 0px)\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, props => {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        style: props,\n        className: styles.tags,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"dl\", {\n        className: styles.dl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"dt\", {\n        className: styles.dt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"\\u6237\\u578B\"), React.createElement(\"dd\", {\n        className: styles.dd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.renderFilters(roomType)), React.createElement(\"dt\", {\n        className: styles.dt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"\\u671D\\u5411\"), React.createElement(\"dd\", {\n        className: styles.dd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, this.renderFilters(oriented)), React.createElement(\"dt\", {\n        className: styles.dt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"\\u697C\\u5C42\"), React.createElement(\"dd\", {\n        className: styles.dd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.renderFilters(floor)), React.createElement(\"dt\", {\n        className: styles.dt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"\\u623F\\u5C4B\\u4EAE\\u70B9\"), React.createElement(\"dd\", {\n        className: styles.dd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.renderFilters(characteristic)))), React.createElement(FilterFooter, {\n        style: props,\n        className: styles.footer,\n        cancelText: \"\\u6E05\\u9664\",\n        onCancel: this.onCancel,\n        onOk: this.onOk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }));\n    }));\n  }\n\n}","map":{"version":3,"sources":["E:\\react-project\\hkzf-mobile\\src\\pages\\HouseList\\components\\FilterMore\\index.js"],"names":["React","Component","Spring","FilterFooter","styles","FilterMore","state","selectedValues","props","defaultValue","onCancel","setState","onOk","type","onSave","onTagClick","value","newSelectedValues","indexOf","push","index","findIndex","item","splice","renderFilters","data","map","isSelected","tag","tagActive","join","label","render","roomType","oriented","floor","characteristic","isOpen","root","opacity","mask","transform","tags","dl","dt","dd","footer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport { Spring } from 'react-spring/renderprops'\r\n\r\nimport FilterFooter from '../../../../components/FilterFooter'\r\n\r\nimport styles from './index.module.css'\r\n\r\nexport default class FilterMore extends Component {\r\n  state = {\r\n    selectedValues: this.props.defaultValue\r\n  }\r\n\r\n  // 标签点击事件\r\n  onTagClick(value) {\r\n    const { selectedValues } = this.state\r\n    // 创建新数组\r\n    const newSelectedValues = [...selectedValues]\r\n\r\n    if (newSelectedValues.indexOf(value) <= -1) {\r\n      // 没有当前项的值\r\n      newSelectedValues.push(value)\r\n    } else {\r\n      // 有\r\n      const index = newSelectedValues.findIndex(item => item === value)\r\n      newSelectedValues.splice(index, 1)\r\n    }\r\n\r\n    this.setState({\r\n      selectedValues: newSelectedValues\r\n    })\r\n  }\r\n\r\n  // 渲染标签\r\n  renderFilters(data) {\r\n    const { selectedValues } = this.state\r\n    // 高亮类名： styles.tagActive\r\n    return data.map(item => {\r\n      const isSelected = selectedValues.indexOf(item.value) > -1\r\n\r\n      return (\r\n        <span\r\n          key={item.value}\r\n          className={[styles.tag, isSelected ? styles.tagActive : ''].join(' ')}\r\n          onClick={() => this.onTagClick(item.value)}\r\n        >\r\n          {item.label}\r\n        </span>\r\n      )\r\n    })\r\n  }\r\n\r\n  // 取消按钮的事件处理程序\r\n  onCancel = () => {\r\n    this.setState({\r\n      selectedValues: []\r\n    })\r\n  }\r\n\r\n  // 确定按钮的事件处理程序\r\n  onOk = () => {\r\n    const { type, onSave } = this.props\r\n    // onSave 是父组件中的方法\r\n    onSave(type, this.state.selectedValues)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      data: { roomType, oriented, floor, characteristic },\r\n      onCancel,\r\n      type\r\n    } = this.props\r\n\r\n    // 该组件是否展示\r\n    const isOpen = type === 'more'\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 遮罩层 */}\r\n        <Spring to={{ opacity: isOpen ? 1 : 0 }}>\r\n          {props => {\r\n            if (props.opacity === 0) {\r\n              return null\r\n            }\r\n\r\n            return (\r\n              <div\r\n                style={props}\r\n                className={styles.mask}\r\n                onClick={() => onCancel(type)}\r\n              />\r\n            )\r\n          }}\r\n        </Spring>\r\n\r\n        <Spring\r\n          to={{ transform: `translate(${isOpen ? '0px' : '100%'}, 0px)` }}\r\n        >\r\n          {props => {\r\n            return (\r\n              <>\r\n                {/* 条件内容 */}\r\n                <div style={props} className={styles.tags}>\r\n                  <dl className={styles.dl}>\r\n                    <dt className={styles.dt}>户型</dt>\r\n                    <dd className={styles.dd}>\r\n                      {this.renderFilters(roomType)}\r\n                    </dd>\r\n\r\n                    <dt className={styles.dt}>朝向</dt>\r\n                    <dd className={styles.dd}>\r\n                      {this.renderFilters(oriented)}\r\n                    </dd>\r\n\r\n                    <dt className={styles.dt}>楼层</dt>\r\n                    <dd className={styles.dd}>{this.renderFilters(floor)}</dd>\r\n\r\n                    <dt className={styles.dt}>房屋亮点</dt>\r\n                    <dd className={styles.dd}>\r\n                      {this.renderFilters(characteristic)}\r\n                    </dd>\r\n                  </dl>\r\n                </div>\r\n\r\n                {/* 底部按钮 */}\r\n                <FilterFooter\r\n                  style={props}\r\n                  className={styles.footer}\r\n                  cancelText=\"清除\"\r\n                  onCancel={this.onCancel}\r\n                  onOk={this.onOk}\r\n                />\r\n              </>\r\n            )\r\n          }}\r\n        </Spring>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}